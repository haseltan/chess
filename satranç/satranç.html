<html>
<head>
<title> Chess
</title>
<style>
#chessBoard {
	width:512px;
	height:512px;
}

#chessBoard div {
	border: 2px solid black;
	float:left;
	width:60px;
	height:60px;
}
</style>

<script>
var destination = "";
var BwhiteTurn;
var BblackTurn;
var letters = ["a", "b", "c", "d", "e", "f", "g", "i", "ç"];
var numbers = ["1", "2", "3", "4", "5", "6", "7", "8"];
var clickedThing;
var oldPlace;
var whiteFree;
var blackFree;
var BwhiteTurn2;



function whiteTurn() {
	BblackTurn = false;
	BwhiteTurn = true;
	BwhiteTurn2 = true;
}

function blackTurn() {
    BwhiteTurn = false;
	BblackTurn = true;
	BblackTurn2 = true;
}

function checkBlackFree(place) {
	var blackChecker1 = document.getElementById(place).innerHTML;
	var blackChecker2 = blackChecker1.split("");
	if(blackChecker2[0] == "s") {
	  blackFree = false;
	} else {
	  blackFree = true;
	}
}

function checkWhiteFree(place) {
	var whiteChecker1 = document.getElementById(place).innerHTML;
	var whiteChecker2 = whiteChecker1.split("");
	if(whiteChecker2[0] == "b") {
	  whiteFree = false;
	} else {
	  whiteFree = true;
	}
}


function move(id) {
	switch (document.getElementById(id).innerHTML) {
	case "b.kale":
	  if(BwhiteTurn2) {
	    clickedThing = "b.kale";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
		console.log(preDestinationArr);
	    thisLetter = letters.indexOf(preDestinationArr[0]);
		var i = 3;
		for (i = 0; i < 8; i++) {
		  if (i == thisLetter) { continue; }
		  preDestinationArr[0] = letters[i];
		  console.log(letters[i]);
		  console.log(preDestinationArr[0]);
		  var destinations = [];
		  destinations[i] = preDestinationArr.join('');
		  console.log(destinations[i]);
		  checkWhiteFree(destinations[i]);
		  destination =  destinations[i];
	      if (whiteFree) {
	        document.getElementById(destinations[i]).onclick = function() {write(destinations[i], clickedThing)};
		  }
		  console.log(destinations[i]);
		  console.log(i);
	    }
	
		BwhiteTurn2 = false;
	  }
	  break;
	case "b.at":
	  if(BwhiteTurn2) {
	    clickedThing = "b.at";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = 1 + letters.indexOf(preDestinationArr[0]);
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
	    checkWhiteFree(destination);
	    if (whiteFree) {
	      document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BwhiteTurn2 = false;
		}
	  }
	  break;
	case "b.fil":
	  if(BwhiteTurn2) {
	    clickedThing = "b.fil";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = 1 + letters.indexOf(preDestinationArr[0]);
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
	    checkWhiteFree(destination);
	    if (whiteFree) {
	      document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BwhiteTurn2 = false;
		}
	  }
	  break;
	case "b.şah":
	  if(BwhiteTurn2) {
	    clickedThing = "b.şah";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = 1 + letters.indexOf(preDestinationArr[0]);
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
	    checkWhiteFree(destination);
	    if (whiteFree) {
	      document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BwhiteTurn2 = false;
		}
	  }
	  break;
	case "b.vezir":
	  if(BwhiteTurn2) {
	    clickedThing = "b.vezir";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = 1 + letters.indexOf(preDestinationArr[0]);
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
	    checkWhiteFree(destination);
	    if (whiteFree) {
	      document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BwhiteTurn2 = false;
		}
	  }
	  break;
    case "b.piyon":
	  if(BwhiteTurn2) {
	    clickedThing = "b.piyon";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = 1 + letters.indexOf(preDestinationArr[0]);
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
	    checkWhiteFree(destination);
	    if (whiteFree) {
	      document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BwhiteTurn2 = false;
		}
	  }
	  break;
	case "s.kale":
	  if(BblackTurn2) {
	    clickedThing = "s.kale";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = letters.indexOf(preDestinationArr[0]) - 1;
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
		checkBlackFree(destination);
	    if (blackFree) {
		  document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BblackTurn2 = false;
	    }
	  }
	  break;
	case "s.at":
	  if(BblackTurn2) {
	    clickedThing = "s.at";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = letters.indexOf(preDestinationArr[0]) - 1;
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
		checkBlackFree(destination);
	    if (blackFree) {
		  document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BblackTurn2 = false;
	    }
	  }
	  break;
	case "s.fil":
	  if(BblackTurn2) {
	    clickedThing = "s.fil";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = letters.indexOf(preDestinationArr[0]) - 1;
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
		checkBlackFree(destination);
	    if (blackFree) {
		  document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BblackTurn2 = false;
	    }
	  }
	  break;
	case "s.şah":
	  if(BblackTurn2) {
	    clickedThing = "s.şah";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = letters.indexOf(preDestinationArr[0]) - 1;
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
		checkBlackFree(destination);
	    if (blackFree) {
		  document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BblackTurn2 = false;
	    }
	  }
	  break;
	case "s.vezir":
	  if(BblackTurn2) {
	    clickedThing = "s.vezir";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = letters.indexOf(preDestinationArr[0]) - 1;
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
		checkBlackFree(destination);
	    if (blackFree) {
		  document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BblackTurn2 = false;
	    }
	  }
	  break;
	case "s.piyon":
	  if(BblackTurn2) {
	    clickedThing = "s.piyon";
	    idHolder = id;
	    oldPlace = id;
	    preDestinationArr = idHolder.split("");
	    thisLetter = letters.indexOf(preDestinationArr[0]) - 1;
	    preDestinationArr[0] = letters[thisLetter];
	    destination = preDestinationArr.join('');
		checkBlackFree(destination);
	    if (blackFree) {
		  document.getElementById(destination).onclick = function() {write(destination, clickedThing)};
		  BblackTurn2 = false;
	    }
	  }
	  break;
	}
	
}

function write(place, thing) {
  alert(place);
  document.getElementById(place).innerHTML = "1";
  document.getElementById(place).innerHTML = thing;
  if(BwhiteTurn) {
    blackTurn();
  }else {
    whiteTurn();
  }
  document.getElementById(place).onclick = function() {move(place)};
  document.getElementById(oldPlace).onclick = "";
  document.getElementById(oldPlace).innerHTML = "";
}

function gameStart() {
	document.getElementById("a1").innerHTML = "b.kale";
	document.getElementById("a2").innerHTML = "b.at";
	document.getElementById("a3").innerHTML = "b.fil";
	document.getElementById("a4").innerHTML = "b.şah";
	document.getElementById("a5").innerHTML = "b.vezir";
	document.getElementById("a6").innerHTML = "b.fil";
	document.getElementById("a7").innerHTML = "b.at";
	document.getElementById("a8").innerHTML = "b.kale";
	document.getElementById("b1").innerHTML = "b.piyon";
	document.getElementById("b2").innerHTML = "b.piyon";
	document.getElementById("b3").innerHTML = "b.piyon";
	document.getElementById("b4").innerHTML = "b.piyon";
	document.getElementById("b5").innerHTML = "b.piyon";
	document.getElementById("b6").innerHTML = "b.piyon";
	document.getElementById("b7").innerHTML = "b.piyon";
	document.getElementById("b8").innerHTML = "b.piyon";
	
	document.getElementById("a1").onclick= function() {move('a1')};
	document.getElementById("a2").onclick= function() {move('a2')};
	document.getElementById("a3").onclick= function() {move('a3')};
	document.getElementById("a4").onclick= function() {move('a4')};
	document.getElementById("a5").onclick= function() {move('a5')};
	document.getElementById("a6").onclick= function() {move('a6')};
	document.getElementById("a7").onclick= function() {move('a7')};
	document.getElementById("a8").onclick= function() {move('a8')};
	
	document.getElementById("b1").onclick= function() {move('b1')};
	document.getElementById("b2").onclick= function() {move('b2')};
	document.getElementById("b3").onclick= function() {move('b3')};
	document.getElementById("b4").onclick= function() {move('b4')};
	document.getElementById("b5").onclick= function() {move('b5')};
	document.getElementById("b6").onclick= function() {move('b6')};
	document.getElementById("b7").onclick= function() {move('b7')};
	document.getElementById("b8").onclick= function() {move('b8')};
	
	document.getElementById("g1").onclick= function() {move('g1')};
	document.getElementById("g2").onclick= function() {move('g2')};
	document.getElementById("g3").onclick= function() {move('g3')};
	document.getElementById("g4").onclick= function() {move('g4')};
	document.getElementById("g5").onclick= function() {move('g5')};
	document.getElementById("g6").onclick= function() {move('g6')};
	document.getElementById("g7").onclick= function() {move('g7')};
	document.getElementById("g8").onclick= function() {move('g8')};
	
	document.getElementById("i1").onclick= function() {move('i1')};
	document.getElementById("i2").onclick= function() {move('i2')};
	document.getElementById("i3").onclick= function() {move('i3')};
	document.getElementById("i4").onclick= function() {move('i4')};
	document.getElementById("i5").onclick= function() {move('i5')};
	document.getElementById("i6").onclick= function() {move('i6')};
	document.getElementById("i7").onclick= function() {move('i7')};
	document.getElementById("i8").onclick= function() {move('i8')};
	
	document.getElementById("g1").innerHTML = "s.piyon";
	document.getElementById("g2").innerHTML = "s.piyon";
	document.getElementById("g3").innerHTML = "s.piyon";
	document.getElementById("g4").innerHTML = "s.piyon";
	document.getElementById("g5").innerHTML = "s.piyon";
	document.getElementById("g6").innerHTML = "s.piyon";
	document.getElementById("g7").innerHTML = "s.piyon";
	document.getElementById("g8").innerHTML = "s.piyon";
	document.getElementById("i1").innerHTML = "s.kale";
	document.getElementById("i2").innerHTML = "s.at";
	document.getElementById("i3").innerHTML = "s.fil";
	document.getElementById("i4").innerHTML = "s.şah";
	document.getElementById("i5").innerHTML = "s.vezir";
	document.getElementById("i6").innerHTML = "s.fil";
	document.getElementById("i7").innerHTML = "s.at";
	document.getElementById("i8").innerHTML = "s.kale";

	whiteTurn();
}
</script>

</head>
<body onload="gameStart()">
<div id="chessBoard">
	<div id="a1"></div>
	<div id="a2"></div>
	<div id="a3"></div>
	<div id="a4"></div>
	<div id="a5"></div>
	<div id="a6"></div>
	<div id="a7"></div>
	<div id="a8"></div>
	<div id="b1"></div>
	<div id="b2"></div>
	<div id="b3"></div>
	<div id="b4"></div>
	<div id="b5"></div>
	<div id="b6"></div>
	<div id="b7"></div>
	<div id="b8"></div>
	<div id="c1"></div>
	<div id="c2"></div>
	<div id="c3"></div>
	<div id="c4"></div>
	<div id="c5"></div>
	<div id="c6"></div>
	<div id="c7"></div>
	<div id="c8"></div>
	<div id="d1"></div>
	<div id="d2"></div>
	<div id="d3"></div>
	<div id="d4"></div>
	<div id="d5"></div>
	<div id="d6"></div>
	<div id="d7"></div>
	<div id="d8"></div>
	<div id="e1"></div>
	<div id="e2"></div>
	<div id="e3"></div>
	<div id="e4"></div>
	<div id="e5"></div>
	<div id="e6"></div>
	<div id="e7"></div>
	<div id="e8"></div>
	<div id="f1"></div>
	<div id="f2"></div>
	<div id="f3"></div>
	<div id="f4"></div>
	<div id="f5"></div>
	<div id="f6"></div>
	<div id="f7"></div>
	<div id="f8"></div>
	<div id="g1"></div>
	<div id="g2"></div>
	<div id="g3"></div>
	<div id="g4"></div>
	<div id="g5"></div>
	<div id="g6"></div>
	<div id="g7"></div>
	<div id="g8"></div>
	<div id="i1"></div>
	<div id="i2"></div>
	<div id="i3"></div>
	<div id="i4"></div>
	<div id="i5"></div>
	<div id="i6"></div>
	<div id="i7"></div>
	<div id="i8"></div>
</div>

</body>
</html>
